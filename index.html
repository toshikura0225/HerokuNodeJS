<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>cake 150308</title>
<script src="/socket.io/socket.io.js"></script>
<script src="script.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>

$(function() {

	var socket = io.connect();
	$('form').submit(function() {
		socket.emit('msg', $('input').val());
		$('input').val('');
		return false;
	});
	socket.on('msg', function(data) {
		$('div').prepend(data + '<br>');
	});
	
});


function send(msg)
{
	$.ajax({
		type: 'POST',
		url: msg,

		success: function(data, textStatus){
		  // 成功したとき
		  // data にサーバーから返された html が入る
		  //alert(data);
		},
		error: function(xhr, textStatus, errorThrown){
		  // エラー処理
		  alert("error");
		}
	});
}

</script>

</head>
<body>
<form><input></form><div></div>

</body>
</html>